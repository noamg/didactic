טיפים לעבודה מדעית וחישוב מדעי
==================================
.. contents::
    תוכן עניינים
    :depth: 3

קונטקסט - איך להבין את המסמך?
-----------------------------

* תוכן המסמך באחריותי בלבד (נועם גביש), **לא מסמך רשמי** של המעבדה
* הטיפים הללו נכתבו בסוף שנה א' של לימודי מתמטיקה פיזיקה באוניברסיטה העברית בירושלים, שנתון 2013-2014.
* הם מבוססים על "מעבדה מתקדמת" (77111), אבל כנראה רלוונטיים גם למעבדה רגילה (77103)
* הטיפים האלה מבוססים על *הרבה* כאב של ניתוח טעויות בדיעבד. אתם מוזמנים להרוויח מהניסיון הזה.
* כדאי לקרוא את המסמך בתחילת השנה, וכאשר אתם נתקלים בקושי מסוים, תוכלו לחזור למסמך ולמצוא טיפ.


תודות
------------
תודה למרכז המעבדה אריה ציגלר, ולמדריכים אסף שחם, דניאל איסטרטי.
שוב, הבהרה: הם אינם אחראים לתוכן המסמך, שאינו מסמך רשמי


תגובות
---------------
יתקבלו בברכה ב- gavishnoam@gmail.com




על מה אנחנו מדברים? - כמה דוגמאות לניסויים
-------------------------------------------
* מדידת מהירות הקול באוויר, מדידת מהירות הקול במיים בטמפרטורות שונות.
* מדידות לבדיקת "נוסחת מלטשי העדשות" באופטיקה.
* מדידת אורך גל של לייזר בעזרת תבנית ההתאבכות שלו.
* מדידת מתח הפנים בין טפלון לאוויר.


מהם השלבים בתהליך של ניסוי?
-----------------------------
#. מקבלים נושא (למשל: אקוסטיקה), פריטי ציוד הגיוניים לניסוי (למשל: מיתר ומשקולות כדי למתוח אותו), ומדריך מעבדה שעובד מולכם.
#. ללמוד רקע תיאורטי מסוים ולעבור עליו עם המדריך (למשל: לקרוא על תנודות במיתר בספר "גלים" של ברקלי).
#. לתכנן ניסוי, ושהמדריך יאשר אותו.
#. לערוך את הניסוי במציאות.
#. לנתח את התוצאות של הניסוי.

בשנה שלנו היו גם הסעיפים האלה (אולי משתנה משנה לשנה):

#. לחזור על הסעיפים הקודמים 4 פגישות. כנראה שתגיעו לדברים מעניינים עם הזמן.
#. להציג בע"פ את הניסוי והתוצאות שלכם. אצלנו **לא** היה דו"ח, אולי אצלכם יהיה.


כמה הערות קונקרטיות לגבי הניסויים / נושאים בשנה שלי
------------------------------------------------------
* אולי בשנה שלכם יהיו מערכות ניסוי אחרות / חדשות.
* נושאים שונים דורשים השקעה שונה בחלקים השונים של הניסוי: רמה שונה של רקע תיאורטי, דרגת קושי שונה של ביצוע הניסויים.

* מתח פנים
    - לדעתי הרקע התיאורטי של מתח פנים קשה להבנה.
    - יש כמה דוגמאות שעוזרות להבנת הנושא מבחינה איכותית, למשל: בועות סבון מקבלות צורה של כדור בגלל העיקרון של שאיפה למינימום אנרגיה.
    - בפן של הבנה כמותית של הנושא, יש כמה נוסחאות בסיסיות מאוד, ומעבר להן קשה להבין.
    - חומר רקע מומלץ: בספר "מכניקה" של סירס וזימנסקי יש לקראת הסוף פרק של מתח פנים. יש גם מסמך רקע שמקבלים מהמנחה, כדאי לעבור עליו, אבל לא להתעמק יותר מדי (קשה).
    - הניסוי מתמקד בעיקר בלבחור את אחת מהנוסחאות (קשר בין מתח פנים לבין חומר / טמפרטורה ...) ולבדוק אותה.

* אופטיקה - הרקע התיאורטי לא קשה מדי. ספר בסיסי הוא הספר של הכט (Hecht).
    - ביצוע הניסוי: בניסויים באופטיקה גיאומטרית צריך להקפיד **ממש** על כיוונונים עדינים של המערכת האופטית, אחרת התוצאות לא שוות כלום. בד"כ רוצים שהציר הראשי של כל מיני דברים יהיה אחיד (הלייזר / פנס, העדשה, המסנן, המסך...) . טריק בסיסי לבדוק את הדיוק הוא להזיז את המסך קדימה ואחורה ולבדוק שהנקודה של הלייזר נשארת די באותו מקום (וגם למדוד כמה הצידה היא הולכת כששמים את המסך ממש יותר רחוק). ממליץ לקרוא למדריך אחרי הכיוונון ולבקש ממנו שיסתכל קצת כדי לוודא שאין בעיה עקרונית. מאוד להיזהר לא להזיז דברים במערכת, כי אז צריך לכוונן מחדש.

* מטוטלות / מטוטלות מצומדות -
    - רקע תיאורטי: לא קשה מדי. יש מסמך הסבר מוצלח של המעבדה הרגילה. תוודאו שאתם מבינים את המושג "מוד עצמי" (נקרא גם "מוד נורמלי" / "אופן תנודה").
    - ביצוע הניסוי: שיטת בקרה טובה: לעשות מדידה מקדימה של התדר העצמי של חתיכת המתכת (לפני שמחברים מוט / משקולת). זה נותן מדד למומנט ההתמד שלה, ואפשר להתחשב בו אח"כ בניתוח התוצאות.
    - שיטת בקרה טובה: אם משתמשים במנוע חיצוני בתור כוח מאלץ, אנחנו יודעים שהמנוע לא "אידיאלי" (כלומר, קצב סיבוב לא קבוע לגמרי). אנחנו יכולים להתמודד עם העניין ע"י מדידת התנועה של המנוע עצמו (למשל, לחבר את המאלץ לזרוע, ולחבר את הזרוע הזאת לשנייה עם קפיץ. ככה יש גם מדידה אמיתית של מה שהמנוע עשה, ואם יהיו צרות אפשר לצלול גם לנתונים האלה בשביל לסדר את העניינים).

* מעגלי RLC -
    - ביצוע הניסוי: לחלק מפריטי הציוד יש שני חיבורים (למשל, סקופ, מייצר אותות). בהרבה מקרים אחד החיבורים האלה הוא "הארקה" (כלומר, יש לו פוטנציאל חשמלי 0). אם יש חיבור של "הארקה" משני צדדים של רכיב, אז החיבור הזה "עוקף" אותו, כלומר: המערכת מתנהגת כאילו שהוא לא שם ויש חיבור ישיר. לכן צריך להקפיד היטב, ולעקוב אחרי אילו חיבורים הם "הארקה". (אנחנו סימנו כבל של "הארקה" בדגל מנייר).

* אקוסטיקה - רקי תיאורטי: ספר רקע טוב הוא "waves" של הוצאת "berkley". תקראו בו על תנודות במיתר. יש בספריה הרבה עותקים, ואחד מהם חדש משמעותית מהאחרים, חפשו אותו. צריך להבין לפחות קצת את הנושא המתמטי של התמרת פוריה. תבקשו עזרה מהמדריך שלכם. אפשר גם לקרוא בבלוג של גדי אלכסנדרוביץ', הוא מסביר טוב.

- http://www.gadial.net/2014/04/28/fourier_series_intro/
- http://www.gadial.net/2014/05/18/fourier_transform_intro/
- http://www.gadial.net/2014/05/21/discrete_fourier_transform_intro/
- http://www.gadial.net/2014/05/27/fast_fourier_transform/
- אפלט לתנודות במיתר http://www.falstad.com/loadedstring
- אפלט לתנודות בממברנה ריבועית http://www.falstad.com/membrane
- אפלט לתנודות בממברנה מעגלית http://www.falstad.com/circosc

הערה: לדעתי הניסוי עם מערכת הצינור קצת מבאס. הניסוי הבסיסי סבבה, אבל קשה להרחיב אותו בצורה מעניינת (חוץ מלעשות בדיוק את אותו ניסוי, אבל עם מיים / טמפ' שונה / לחץ שונה - לא מלהיב). אפשר לאלתר בעצמכם מערכת מיתר נוספת (אנחנו עשינו), או לעשות ניסויים עם הממברנה.

ג'יירו - רקע תיאורטי: תתפסו באוזן מישהו משנה ב' שיעזור לכם להבין קצת איך מסתכלים על זה מכיוון של מכניקה אנליטית. אין צורך להבין את כל הנוסחאות לעומק, אלא באופן בסיסי. ההסבר בוויקיפדיה על נוטציה ועל פרסציה גם עוזר.

טיפים כלליים לגבי צורת עבודה
-----------------------------------
סדר
^^^^^^^^^
* תמצית: מה שלא נשמר מסודר, קשה מאוד למצוא.
* לשמור באופן מסודר ניירת קשורה: פיתוחים תיאורטיים שאתם עושים בשביל להבין מה הולך, פיתוח של משוואות, מחשבות על הנושא. לארגן לפי ניסוי. אני לא שמרתי על סדר, אלא כתבתי על פיסות נייר אקראיות, וכשהייתי צריך משהו מהעבר, לפעמים לא מצאתי.
* בסוף כל מעבדה תעלו את כל הקבצים הרלוונטיים לכונן שיתופי כמו google drive: מחברת המעבדה, נתונים באקסל, תמונות, סרטונים, הקלטות). וגם להעלות את קבצי הפייתון או מטלב שבהם השתמשתם, להעלות גרפים חשובים, להעלות את גרסאות המצגת שלכם.

ניהול זמן
^^^^^^^^^^^^^^^^^^
* תמצית: לא לחכות לרגע האחרון, ולא לקריב את כל הזמן.
* עדיף לנתח את התוצאות כל שבוע. המשמעות של זה היא כפולה: אם יש בעיה בניסוי אתם מגלים אותה לפני הניסוי הבא, אם יש תוצאה מעניינת אפשר לנסות לחקור אותה יותר.
    - בהרבה מקרים עשינו רק ניתוח ראשוני כל שבוע, וניתוח כולל רק לקראת ההצגה, החיסרון של זה הוא ששוכחים, ואם הייתה בעיה בניסוי, והתוצאות "לא טובות" - זה מה יש ("תוצאות לא טובות": שגיאות מדידה גדולות מדי / תוצאות לא תואמות לתיאוריה / תוצאות בלתי סבירות בעליל).

* חוק ה- 80-20: לא להקריב לילות, לא להשתגע. כמות העבודה שכל מעבדה יכולה לדרוש היא בפוטנציה אינסופית. עדיף ניתוח בסיסי יותר ולא למות בדרך.

עזרה ממדריך המעבדה
^^^^^^^^^^^^^^^^^^^^^^^
* תמצית: הוא יכול לחסוך שטויות.
* זה רעיון טוב לוודא מולו את הסוגיות העקרוניות של הניסוי שלכם. גם לפני הניסוי, וגם אם אתם בוחרים לעשות שינוי מהותי במהלך הניסוי. אולי זה יחסוך לכם צרות אח"כ אם יש בעיה עקרונית קלה לזיהוי בשיטה שלכם, שהמדריך יכול להצביע עליה. מכשלות קלאסיות:
    - שגיאות מדידה גדולות מדי מכדי להבחין בתופעה
    - השיטה דורשת הרבה עבודה "ידנית" שלכם אח"כ

* עוד אנשים שהגיוני לבקש מהם עזרה: מחברים שלכם שעשו כבר את הניסוי הזה, מסטודנטים מבוגרים יותר שאתם מכירים, מתרגלים / מרצים שמלמדים אתכם.

עבודה בזוגות
^^^^^^^^^^^^^^^^^
* תמצית: תהיו מתואמים טוב.
* די מהר אתם תבינו מה הנקודות החזקות של כל אחד מכם (רעיונות מגניבים לניסויים / הבנת תיאוריה / ניתוח נתונים / ניתוח תיאורטי / "תבונת כפיים" / כתיבת מצגת / הצגה בע"פ).
    - לי נראה מוצלח: לזרום עם ההעדפות הבסיסיות שלכם, אבל כן לעשות גם את מה שבא לכם פחות טבעי, וגם תוכלו ללמוד הרבה מבן הזוג שזה בא לו יותר בקלות.
* אני ממליץ לקבוע זמנים לעבוד באותו מקום, גם אם מתייעצים מעט. זה גרם לנו להיות יותר ממוקדים, ואפשר לקבל במהירות חוות דעת של בן הזוג.


למידת הרקע התיאורטי
-----------------------------
* תמצית: כדאי להשקיע מאמץ ולהבין את הנושא באופן בסיסי לקראת הניסוי הראשון או אחריו לכל היותר. אם יש פערים בהבנה, הם נגררים, מציקים לאורך הניסויים, ובכל מקרה צריך לסגור אותם לקראת ההצגה.

* סוגי חומרים:
    - לפעמים יש מסמך רקע של המעבדה.
    - וויקיפדיה זה טוב.
    - סירטונים ב- youtube זה טוב. יש שם הדגמות של כל מיני דברים. (אבל הרצאות מוקלטות שמצאנו ב- youtube תמיד היו בסיסיות מדי, ולא הגיעו למה שרצינו).
    - סיכומים ודפי נוסחאות של קורסים מתקדמים.
    - לשאול את המדריך (או חברים למחזור, או סטודנטים מבוגרים שאתם מכירים).
    - ספרים: לוקח יחסית הרבה זמן, אבל נותן הבנה יסודית. עדיף להתחיל בספרים בסיסיים יחסית. בחלק מהתחומים יש ספר שנחשב בתור הבסיס - לשאול את המדריך מהו. לפעמים מחפשים חומר על נושא "נישה" / נושא איזוטרי, והוא לא מופיע בכל הספרים.
    - מאמרים: אנחנו לא השתמשנו, אבל היו זוגות שקראו מאמר בנושא מסוים, וניסו לשחזר את הניסוי שעשו במאמר, או השתמשו בשיטות ניתוח נתונים שהוצגו בו.

* אם אתם נתקלים בחומר מתמטי שאתם לא מכירים, כדאי לבדוק את "לא מדויק": הבלוג של גדי אלכסנדרוביץ'. הוא מסביר דברים ממש טוב.
    - http://www.gadial.net/

* הבנת רקע מתמטי בכלל (בעיקר טרנספורם פוריה): לזכור שלפעמים יש הגדרות / קונבנציות שונות. כלומר, הגדרות שכולן מבטאות את אותו רעיון, ועושים איתן את אותם דברים, אבל הן שונות בקצת. כאשר לוקחים נוסחא מקורס מתקדם, אתר אינטרנט, דף נוסחאות, להבין מה הקונבנציה, אחרת יהיו טעויות של פקטורים בכל מיני מקומות.


* להוסיף: אתר שיש בו סימולציות של ג'יירו (טל מכיר).

תיכנון ניסוי
-------------
תמצית: שיהיה לפחות ניסוי אחד מדיד על התיאוריה הבסיסית, מומלץ לעשות גם דברים מגניבים.
להסתכל בניסוי הבסיסי של המעבדה הרגילה. לפעמים מוצלח להתחיל איתו.
הניסוי הראשון מתוך הארבעה - כדאי שיהיה פשוט, כי הוא כולל עומס נוסף של להתרגל למערכת הניסוי.
מומלץ שיהיה ברצף הניסויים לפחות משהו בסיסי עם תיאוריה שאתם מבינים ותוצאות נעימות יחסית. זה מבטיח במידת מה את קיום המצגת.
מומלץ מדי פעם לעשות ניסוי שאתם בכלל לא יודעים איך הוא ילך. זה כיף. זה גם בסדר לעשות ניסוי שלא מצאתם עבורו תיאוריה סבירה, תוכלו להסתכל על משהו חדש. אם תצליחו להוציא מזה משהו מעניין - יופי. אם לא, אולי תוכלו להציג את הניסיון.
לפעמים מגיעים למבוי סתום עם הניסוי שבו התחלנו. לא חושבים על שום הרחבה מעניינת. אפשר להתחיל ניסוי חדש באותו נושא. לפעמים צריך לאלתר מערכת ניסוי. זה סבבה. קחו בחשבון שבניית מערכת מאולתרת יכול לקחת הרבה זמן במעבדה.



ניהול הניסוי בפועל
-------------------
מחברת מעבדה
^^^^^^^^^^^^^^^^^^^^^^^
* תמצית: אתם רוצים לתעד היטב את מערך הניסוי שלכם. זה עושה את החיים יותר קלים: לא צריך לרדוף אחרי דברים, ואם יש תוצאות לא צפויות אולי תזכרו במשהו שיכול להסביר אותן.
* כלי: "מחברת מעבדה": בתחילת הניסוי פותחים קובץ טקסט ובו כותבים הכל. כמובן שמתעדים פרמטריים פיזיים: אורכים, מסות וכו'.
* כדאי גם לתעד דברים לא צפויים שקרו, או בעיות שצצו במהלך הניסוי (משהו רעד יותר מדי, אתם חושדים שהחיכוך היה בעייתי, וכו').
* לכתוב לעצמכם את הדגם / מספר קטלוגי של ציוד המעבדה: מצלמה שבה אתם משתמשים (ותוכלו להוריד מהאינטרנט מדריך שלה), מערכת הניסוי (למשל: מערכת הג'יירו שבה משתמשים, או של השקף שבו משתמשים בשביל התאבכות).
* אם יש דברים שחשוב לתעד אבל מסיבה מסוימת אי אפשר כרגע, תכתבו תזכורת גדולה בקובץ.
* תצלמו תמונות של מערכת הניסוי. גם טוב למצגת, וגם אם שוכחים משהו.
* לפעמים במהלך הניסוי ממהרים ולכן כותבים את הכל בצורה מאוד גולמית. כדאי זמן קצר אחרי הניסוי לעבור על הקובץ ולארגן אותו. שבוע אחרי זה יהיה קשה להיזכר מה היה שם.

איסוף נתונים בטבלה
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
אם אתם עושים הרבה מדידות, ניסוי שחוזר על עצמו הרבה פעמים וכו', תרשמו את הנתונים בטבלה בקובץ excel, ותשמרו אותו בתור CSV (זהירות, בתור CSV כללי ולא גרסא של מייקרוסופט). ואז יהיה לכם קל להשתמש בה במטלב או פייתון (ולא לרשום על נייר, ולא בקובץ "מחברת המעבדה").

איסוף מידע באמצעות צילום
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
יש מדידות שקשה לעשות בעין: למדוד אורך מאוד קטן, למדוד זווית קטנה, למדוד זווית בין דברים קטנים, למדוד משהו בתנועה. אפשר לצלם עם מצלמה טובה של המעבדה, ואח"כ למדוד את האורכים והזוויות בעזרת התוכנה tracker.

איסוף מידע רציף
^^^^^^^^^^^^^^^^^^^^^^
* תמצית: מועיל למצוא דרך לאיסוף מידע רציף. זה דורש מאמץ, אבל חוסך הרבה צרות.
* כלי יעיל הוא איסוף מידע רציף לגבי משהו: מה הזווית בכל רגע ורגע? מה המיקום בכל רגע ורגע? וכו'.
* מה המחיר? - לפעמים צריך קצת להתאמץ כדי להרים את ה- setup.
* כדי להוציא מידע "מייצג" (למשל, משרעת הזווית) נצטרך קצת לעבד את הנתונים.

מה התמורה?:

* מידע רציף אומר "מה קורה באמת". בצורה יותר חותכת מכל מודל וכל ניתוח. מידע רציף מאפשר לבדוק הנחות יסוד שלכם (למשל: אני מניח המערכת היא כמו אוסילטור הרמוני, אבל אולי אני טועה. אם הייתי מודד רק את משרעת התנועה לא הייתי יכול לבדוק את הנחת היסוד).
* במקרה שבו הנחות היסוד שלהן קיוויתם לא מתקיימות, המידע הרציף "מציל אתכם" - כיוון שאתם יודעים "מה היה באמת", אתם יכולים לנסות לבחון את הנתונים ולהתאים להם מודל משלכם. ללא המדידה הרציפה, היו לכם מדידות ש*מותאמות למצב* בו ההנחה מתקיימת. ללא ההנחה, המדידות בעלות ערך מועט.
* מידע רציף חוסך את הצורך למדוד דברים מהירים בזמן אמת עם העין (חוסך עבודה ומשפר דיוק).
* מידע רציף מאפשר למדוד מאפיין של המערכת ברמת דיוק גבוהה, כיוון שהניתוח מתבסס על *המון* מדידות.

בדיקת שפיות:

* אם אפשר, מומלץ לעשות גם מדידה "ידנית" קצרה של התופעה, כדי לוודא שהמדידה הרציפה מתרחשת ביחידות הנכונות.  
* לפעמים זה דורש מכשיר מיוחד (למשל, בניסוי מטוטלות מצומדות, יש מכשיר שרושם את הזווית של המוט בכל רגע נתון).
* מקרה נוסף: מודדים את המתח החשמלי באופן רציף בעזרת חיבור לאוסילוסקופ. אבל האוסילוסקופ במעבדה יכול לזכור רק זמן מוגבל ואולי אתם רוצים יותר. איך לרמות? - לחבר את מה שאתם מודדים לכניסת ה- audio של המחשב - ואז להקליט עם תוכנה כמו audacity והופה - יש לכם קובץ שמע שאתם יכולים לפתוח במטלב או פייתון. חשוב! לשמור את הקובץ בפורמט wav, פורמט נוח (בניגוד לגרסה של מייקרוסופט). אפשר לקרוא את הפורמט הזה בקלות עם פייתון ומטלב.
* מקרה נוסף: להסריט הסרטת וידאו של משהו. מקרה קלאסי: לחבר עט לייזר למערכת הניסוי, ואז לצלם את התנועה של הנקודה האדומה על מסך. לפענח את המיקום הרציף של הנקודה בכל פריים בעזרת התוכנה tracker.


מדידה עקיפה ויצירת סקאלה
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
לפעמים מודדים משהו באופן עקיף. למשל, לא מודדים מיקום של פריט, אלא את המיקום של הצל שלו.
במקרה כזה אתם רוצים לוודא שתוכלו להמיר את המדידה שלכם למה שאתם באמת רוצים. לפעמים זה קשר לינארי. לפעמים זה קשר מכוער שקשה לתאר בנוסחא. באסה.
במצב כזה אפשר לייצר סקאלה משלכם. למשל: לשים את הפריט במיקום אמיתי של 1 ס"מ, ולסמן את הצל ב- 1 ס"מ, לשים את הפריט ב- 2 ס"מ ולסמן את הצל כך וכו'. כך המדידות העקיפות שלכם נמצאות מראש בסקאלה של מה שאתם באמת רוצים למדוד

מדידה של רמת בסיס (ניסוי ביקורת)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
* תמצית: אם לא מדדנו רמת בסיס, לתוצאות הניסוי שלנו אין משמעות.
* כדי להתמקד בתופעה אחת, יש גורמים במערכת שהיינו רוצים למזער. למשל: חיכוך, שינוי של גודל אחר בעקבות חיכוך, התנגדות פרזיטית של תיילים בניסויים בחשמל. אי אפשר למזער אותם לגמרי, כדאי לקבל הערכה מסוימת למה הגודל שלהם באמת. ככה אנחנו נדע עקרונית מה הייתה מערכת הניסוי. במקרה שהגודל שלהם לא זניח ביחס לשאר מרכיבי המערכת:
* או שאנחנו רושמים את הערך הקבוע ומתחשבים גם בו במודל וניתוח הנתונים (למשל: בניסוי RLC, לעשות ניסוי LC ובעזרתו למדוד את ההתנגדות הפרזיטית הכוללת במערכת, מעכשיו נתייחס גם להתנגדות זו).
* או שאנחנו מבינים שצריך למדוד את הערך הזה בכל ריצה של הניסוי (למשל: בניסי עם ג'יירוסקופ, קצב הסיבוב של הדיסקה פוחת בגלל חיכוך מועט במערכת. אולי נצטרך למדוד אותו גם בתחילת ריצה וגם בסופה כדי להתחשב בשינוי. אולי בכלל כדאי לנו לנסות לעשות מדידה רציפה).
* או שאנחנו רוצים לבכות קצת ולשנות את מערכת הניסוי


איסוף נתונים גולמיים טובים
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
* גישה נאיבית: הזמן במעבדה מוגבל לעומת הזמן מחוץ למעבדה, שאינו מוגבל. לכן צריך להשקיע מאמץ ולאסוף כמה שיותר נתונים גולמיים בזמן המוגבל של המעבדה. הגישה הזו הייתה האינסטינקט הבסיסי שלי, וטוב (מאוד) ששותף המעבדה ריסן אותי.
* מה קרה בפועל: גם הזמן מחוץ למעבדה מוגבל (יש תואר לעשות). השתמשנו ב- 30%-80% מחומר הגלם שלנו. כלומר, לא הייתה הצדקה לגישה של "כמה שיותר".
* ניתוח: יותר חשוב שיהיו פחות נתונים אבל  *טובים*. אחרי הריצה הראשונה או השנייה של הניסוי, להסתכל על חומר הגלם (לפתוח את התמונה, או להציג את הנתונים בפייתון / מטלב) ולעשות לו ניתוח בסיסי ביותר. אם אתם מקבלים תוצאות סבירות סבבה. אם התוצאות מחורבנות אתם רוצים לשנות משהו במערכת הניסוי *עכשיו*, או שיהיה לכם הר של מידע מחורבן.

בטיחות
^^^^^^^^^^^^^^
תחשבו קצת "מה יקרה אם X יקרע, או יישבר. מה יקרה? מה יפול?". לדוגמא: עשינו ניסוי במיתר גיטרה בעזרת מערכת מאולתרת (ומתיחת המיתרים הייתה בעזרת משקולות). מדריך המעבדה הרשה לנו להשתמש רק במיתרים מניילון ולא ממתכת, כיוון שמיתרי מתכת צריכים משקל מתיחה גדול בהרבה. במקרה שמיתר נקרע, הוא מצליף, והצלפה של מיתר מתכת, שהיה מתוח הרבה יותר תהיה חמורה. במהלך הניסוי אכן נקרעו לנו מיתרים. למרבה המזל והשכל, קשרנו את המשקולות עם חוט נוסף (רפוי), שמנע מהמשקולות ליפול לי על כף הרגל.


ניתוח תוצאות
------------

בדיקות שפיות
^^^^^^^^^^^^^^^^^^^^^^^^^^
* There is no sense in being precise if you don't know what you are talking about / John von Neumann
* זה טוב ממש לעשות הרבה בדיקות שפיות. כלומר, לעשות בדיקה בסיסית שאתם בכלל בכיוון. אם במקרה אתם לא, טוב לדעת את זה מוקדם.
* בדיקת יחידות. חשוב ממש. יחידות יותר חשוב משגיאות מדידה. אחראי לטעויות יותר גדולות.
* מהן שגיאות המדידה - אולי התוצאות לא שוות כלום.
* קריטי: האם תחום השגיאה כולל את האפס? אם כן, יכולות לצוץ בעיות אם תחשבו את השורש של המספר, או את ההפכי של המספר. אולי כדאי לוותר על המדידות שכוללות את 0.
* האם התוצאות נראות כמו מדידות או לא? אם כולן מספרים שלמים, אולי זה חשוד.

כלל ברזל לניתוח נתונים - התקדמות מהפשוט למורכב
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
* בכל שלבי המחקר, כדאי להסתכל על המספרים שאיתם אתם עובדים בגרפים. זה אינטואיבי, זה נוח.
* תמיד לבצע את שלבי הניתוח / סוגי הניתוח מהפשוט למורכב. תמיד לנתח קודם את הנתונים הפשוטים. גישה זו נותנת תחושה לגבי הנתונים מהר יותר, נותנת תוצאות בסיסיות מהר יותר (ואולי הן בעצם מספיקות), נותנות בדיקת שפיות לתוצאות המורכבות. אם בעיה עולה במהלך ניתוח מורכב, קשה לדעת אם יש בעיה בצורת הניתוח או בנתונים. תמיד להתחיל בניתוח ידני ולא אוטומאטי על הרבה תוצאות. תמיד להתחיל בחישוב ע"ס ערכים יחידים ולא לרוץ להתאמת עקומה, כאשר מתאימים עקומה - קודם כל לעשות התאמה של המודל למידע מסונתז שמתאים למודל ורק אח"כ לעשות התאמה למידע האמיתי.

תמיד תמיד תמיד זה משתלם מבחינת זמן. לכאורה זה מבזבז זמן - למה לעבוד פעמיים? אבל הניתוח הפשוט תמיד קצר יותר משמעותית. ואם הוא לא עובד מאיזו שהיא סיבה, אז ברור שהניתוח המורכב לא יעבוד (ויגזול המון המון זמן).
"לאט לאט, אנחנו ממהרים".

בחירת מודל
^^^^^^^^^^^^^^^^^^^
* בד"כ יש רקע תיאורטי מאחורי הניסוי, ואנחנו משתמשים בו, ובכמה נוסחאות שמתארות את התופעה שאנחנו מנסים למדוד.
* לפעמים אין רקע תיאורטי / לא מצאנו / הוא מסובך מדי להבנה ואנחנו מחפשים משהו פשטני יותר. כלומר, במובן מסוים אנחנו ממציאים / מרכיבים גישה חדשה להסתכל על משהו ישן. על סמך כמה הנחות יסוד, אנחנו מורכיבים נוסחאות שאנחנו מקווים שיתארו את התופעה - והן המודל שלנו.
* לפעמים לא ברור לנו מראש מה המודל המתאים לתיאור התופעה. אם יש לנו מדידה רציפה של התופעה, אז אנחנו יודעים "מה קרה באמת". בעזרת בחינה של הנתונים אפשר לנסות להתאים מודל. בתקווה המודל שתכננו להתאים כשתכננו את הניסוי, אבל לא בהכרח.
* אם המודל שבחרנו לא מתאים, נצטרך לחזור לשלב הזה. או שיש טעות קלה במודל ונוכל לתקן אותה, או שנצטרך לאמץ מודל חדש.


עוד בדיקות שפיות
^^^^^^^^^^^^^^^^^^^^^^^^
#. בדיקת שפיות 1: הצבה של נתון יחיד מתוך סדרת הנתונים בנוסחא: קל, מהיר, נותן תחושה, נותן אינדיקציה לגבי טיב הנתונים. למשל, כותבים נוסחא של חישוב תאוצת הכובד g על סמך נתון יחיד. אם ההצבה של הנתון נותנת תאוצת כובד קרובה למציאות הנתון סביר. אם לא, אז או שיש בעיה בנוסחא (לבדוק!) או שהנתון בעייתי.
#. בדיקת שפיות 2: הצבה של כל סדרת הנתונים בנוסחא. אם חלק מהנתונים טובים וחלקם בעייתיים, ההצבה הפשוטה בנוסחא, אולי תמיין את הנתונים לסבירים ובעייתיים.
#. בדיקת שפיות 3: "מה קרה שם באמת?": אנחנו משתמשים בנוסחא שמניחה התנהגות מסוימת של מערכת הניסוי. כדאי לוודא שהמערכת באמת מתנהגת ככה. אם לא, אז ברור שהנוסחא לא מתאימה. למשל: הנחתי שההתנהגות היא של אוסילטור הרמוני, והשתמשתי בנוסחא (הנכונה!) של אמפליטודה של אוסילטור הרמוני. התוצאות היו בעייתיות ובזבזתי הרבה זמן. אח"כ התברר שבדיקה פשוטה הייתה מצביעה מייד על הבעיה: באוסילטור הרמוני התאוצה והמיקום הם אותו דבר עד כדי פקטור. במקרה שלי, גזרתי את וקטור המיקום פעמיים בשביל לקבל את התאוצה, והיה ברור מאוד שוקטור המיקום והתאוצה לא זהים עד כדי פקטור. אם הייתי בודק מראש, הייתי חוסך המון ניתוח שמבוסס על נוסחא (נכונה!) *לא מתאימה*.
#. בדיקת שפיות 4: האם המדידות מקיימות ציפיות בסיסיות שלנו, שיותר קדומות מהמודל הספציפי שלנו: סדר גודל? סימטריה? התנהגות בקצוות?. למשל: אנחנו עושים ניסוי בהתאבכות אור דרך חור עגול קטן, ומצלמים את תבנית ההתאבכות שמתקבלת על מסך. החור שלנו עגול. המערכת מקיימת סימטריה מעגלית. לכן אנחנו מצפים שגם התמונה תקיים סימטריה מעגלית. אם היא לא זה מעורר חשד (כנראה שעדיין נמשיך באותו ניתוח, אבל צריך לזכור את החשד הזה)

התאמת המודל והנתונים
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
#. העיקרון היסודי: התאמה של המדידות למודל לינארי.
#. לינאריזציה: לפעמים הקשר בין המשתנה הבלתי תלוי למשתנה התלוי אינו לינארי. אז מה? מותר לנו לבחור צירים שהם לא המשתנה התלוי והבלתי תלוי באופן טהור. בהרבה מקרים אפשר לשחק עם הנוסחא ולקבל קשר לינארי בין שני דברים (שכל אחד מהם הוא תוצאת חישוב מסוימת שמבוססת על המשתנה התלוי והבלתי תלוי). אחרי שעשיתם לינאריזציה, והתאמת מודל לינארי, כדאי לשרטט את הגרף (הלא לינארי) של הקשר בין המשתנה התלוי לבלתי תלוי, ואת הגרף (הלא לינארי) שמבוסס על הפרמטרים שהוצאתם בעזרת הלינאריזציה.
#. הערה: אם הלינאריזציה פשוטה, כדאי להציג במצגת את הגרף (הלינארי) של הנוסחא והנתונים אחרי לינאריזציה. אם הלינאריזציה מסובכת, כדאי להציג במצגת את הגרף (הלא לינארי) של הנתונים.
#. טכניקות מתקדמות של התאמת עקומה (curv fit): לפעמים קשה לעשות לינאריזציה לנוסחא, או שרוצים ניתוח נוסף בתור בדיקה. התאמת עקומה: בכל מיני אלגוריתמים מתמטיים שמקבלים מדידות, ונוסחא עם כמה פרמטרים חופשיים, ומנסים למצוא פרמטריים מסוימים כך שהנוסחא / מודל תהיה הכי קרובה לנתונים. למשל: מקבלים נוסחא של פונקציה ריבועית עם שלושת המקדמים בתור פרמטרים, ומידע שאנחנו מקווים שמתאים למודל הריבועי. לפייתון ולמטלב יש כלים כאלה. דגשים לשימוש יעיל:
#. ראשית חכמה - זה ניתוח מורכב יחסית (וגם האלגוריתמים די מורכבים). עדיף להשתמש בו רק אחרי ניתוחים בסיסיים יותר. אם יהיו לכם צרות בניתוח הזה, יהיה לכם קשה לדעת אם זה נובע ממודל שגוי או נתונים בעייתיים. למשל: אני בזבזתי המון זמן בניסיון להתאים נתונים לנוסחא מסוימת, ואחרי הרבה צרות התברר שהיא לא הייתה מתאימה, כי הנחה בסיסית יותר לא התקיימה (המשך הדוגמא ב- בדיקת שפיות 3). אם חלק מהנתונים טובים וחלק בעייתיים, אפשר לנפות את הבעייתיים.
#. שנית חכמה - בדיקת שפיות: לנסות לעשות התאמת עקומה למידע לא מדוד, אלא מסונתז (שיצרתם בעצמכם לפי הנוסחא). רק אם זה עובד, לעבור למידע האמיתי.
#. שלישית חכמה - לפעמים האלגוריתמים האלה רוצים לקבל הערכה בסיסית / ניחוש ראשוני של הפרמטרים, אחרת הם בצרות. במקרה כזה הניחוש הראשוני מגיע מניתוח בסיסי יותר. (מדוע הם נכנסים לצרות? אולי בנוסחא יש משהו כמו שורש, ואז במהלך החיפוש שלהם הם מגיעים לשורש של מספר שלילי, אולי הם מגיעים ל-  1/0, ואולי יש בעיות נוספות - אני לא מכיר היטב את האלגוריתמים האלה).


ניתוח הפער בין המודל והנתונים
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
אפשרויות:

#. המודל והנתונים מתאימים טוב למעט שגיאות מדידה קלות. יופי.
#. חלק מהנתונים מתאימים היטב וחלק לא. יופי. מנסים למצוא הסבר מדוע הנתונים שלא מתאימים יצאו בעייתיים.
#. המודל והנתונים מתאימים איכותית אבל לא כמותית (אותה התנהגות, עם פרמטר חפשי אחר). חצי יופי. לחפש טעות יחידות. לחפש טעות בפקטורים, לחזור על בדיקות שפיות. אם לא מצאנו הסבר זה עדיין לא נורא. גם זה השג.
#. המודל והנתונים לא מתאימים. באסה. מה אפשר להציל?:
#. האם לפחות תכונות מסוימות שאנחנו מצפים להן מתקיימות? למשל - אולי המדידות של המסה של השולחן והפיל יצאו בלתי הגיוניות בעליל, אך האם לפחות השולחן קל מהפיל?
#. מנסים להתאים את הנתונים למודל אחר. זה לא צעד דרסטי כמו שהוא נשמע. בהרבה מקרים המצב הוא שלא לקחנו בחשבון גורם מסוים, ובעצם צריך להתחשב גם בו (למשל, זרימה עם מערבולות, חיכוך לא זניח, משהו לא לינארי). במילים אחרות, אנחנו מוסיפים פרמטר למודל.

תירוצים
^^^^^^^^^^^^^^^^^
* תמצית: בתקווה אספנו כמה תירוצים בשביל להסביר את הפער בין המודל לנתונים. איך אנחנו מעריכים כמה התירוצים האלה סבירים?
* הערה חשובה: הדבר הזה לוקח זמן שאולי אין לכם, ולכן אולי לא תעשו את כל הבדיקות האלה. לא נורא. אבל צריך לזכור שהן קיימות ו**חשובות מבחינה עקרונית**.
* הערכה כמותית של ההסבר המוצע.
* אם אפשר לעשות סימולציה של הניסוי עם ובלי גורם הבעיה, אפשר לקבל הערכה לגבי החשיבות שלה.

#. דוגמא הומוריסטית: "הריצפה עקומה".
#. אחלה. כמה היא עקומה?
#. אם היא לא הייתה עקומה למה היינו מצפים?
#. אם היא הייתה עקומה בזווית זאת וזאת, מה היה קורה?

#. דוגמא שלנו (המשך של בדיקת שפיות 4): היה לנו תירוץ די טוב: תמונת ההתאבכות לא מקיימת סימטריה מעגלית וזה מעיד על בעיה, הצענו בתור הסבר שהחור העגול שבו השתמשנו להתאבכות לא היה מושלם.
#. מדריך המעבדה הציע דרכים לבחון את ההסבר הזה: תמונת ההתאבכות אומנם לא קיימה סימטרייה מעגלית, אבל הייתה קרובה לזה - צריך למצוא מדד מסוים לכמה הסימטריה רחוקה ממעגלית (למשל, להסתכל על קו שהיינו מצפים שיהיה עגול, אבל הוא לא, ולכלוא אותו בין 2 טבעות, ולראות מה הרדיוסים שלהן).
#. אם אנחנו חושבים שחור לא מושלם הוא ההסבר, אנחנו יכולים לנסות לסמלץ בפייתון או מטלב מצב עם חור לא מושלם, ולראות כמה זה משפיע על התוצאות, והאם זה משפיע באותו אופן. אם זה משפיע באופן זניח, או בצורה אחרת לגמרי, התירוץ שלנו לא מוכיח את עצמו. אם זה משפיע בצורה דומה, הסימלוץ שלנו מוכיח את עצמו.



הצגה של הניסוי והתוצאות
------------------------
כללי ברזל להצגה בע"פ
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
#. כלל ברזל: להציג באופן כמה שיותר פשוט. כלומר: להציג את הדברים החשובים / העקרוניים להבנת הניסוי והתוצאות. למה זה טוב?: ככה אתם מפנים את תשומת הלב של הקהל לעיקר.
    - בהצגת הרקע התיאורטי לצמצם את הפרמטריים שאינם עקרוניים (למשל: אתם מציגים תופעה פיזיקאלית שניתן לתאר בעזרת קוסינוס, אז אם פרמטר הפאזה ההתחלתית לא קריטי להבנת העניין, לוותר עליו).
    - בהצגת פיתוחים תיאורטיים (גם מוכרים, וגם פיתוחים שלכם): להציג *היטב* את ההגדרה של כל הגדלים, מערכת הצירים וכו', להציג את הנחות המוצא הפיסיקליות, להציג את התוצאות של הפיתוח, *לא* להציג את הפיתוח עצמו (שנחשב, ל"פרטים קטנים").
    - בהצגת ניתוח הנתונים והתוצאות שלכם: להבין שכל שלב בניתוח מחולק ל"מה עשיתי", ול-"איך עשיתי". בכל המקרים "מה עשיתי" חשוב מאוד. בלעדיו הקהל מבולבל. בהרבה מקרים ה"איך עשיתי" לא כ"כ חשוב.

#. כלל ברזל: במהלך ההצגה בע"פ אתם רוצים לשלוט בקשב של הקהל שלכם. כלומר: שהם יחשבו ויתעמקו במה שאתם בוחרים, במה שאתם מתכננים. למה זה טוב?: יש לכם מעט זמן להעביר כמה רעיונות בצורה תמציתית, ואתם לא רוצים לבזבז אותו על קהל מבולבל. במובן מסוים אתם כמו קוסם, או אומן. איך שולטים בקשב של הקהל?:
    - זרימה והקשר: שמירה על רצף לוגי הגיוני / טבעי: ציון של *כל* המושגים שבהם אתם משתמשים. הבהרה של *כל* מערכות הצירים בגרפים במצגת. הבהרה של *כל* הסימבולים והאותיות שבמצגת, הדגשה של "מה עשיתם" בכל שלב בניתוח. הפרדה *ברורה* בין מה שמדדנו, למה שחישבנו. למה זה טוב?: אם הקהל עוקב/מבין את מה שאמרתם *קודם*, הוא יכול *להקשיב* לכם עכשיו (אחרת הוא עסוק בניחושים והשלמת פערים: "למה הם מתכוונים ב- A?, מה זה לכל הרוחות CMC?, מה הגרף הזה אומר?, זאת השערה או תוצאה? מה הוא אומר בכלל?").
    - מיקוד תשומת לב: לפי בחירתכם, אתם מדגישים פרטים / רעיונות מסוימים ומטשטשים אחרים. למשל: "בגרף אנחנו רואים את התוצאות ___, קבוצת הנקודות א' מותאמת למודל לינארי, קבוצת הנקודות ב' לא מתאימה למודל כי ____, קבוצת הנקודות ג' לא מתאימה למודל ואנחנו לא יודעים למה". למשל: "בתמונה הזאת אתם רואים תמונת התאבכות דרך סדק צר. במרכז אנחנו רואים קטע בהיר מאוד. במרווחים קבועים אנחנו רואים מקומות חשוכים לגמרי".
    - הבהרת הכוונה שלכם: "אתם רואים פה את הנוסחא של דירוג התדר, היא מכילה בעיקר פונקציות טריגונומטריות, אין סיבה שתתעמקו בה כרגע", "הפיתוח התיאורטי הזה קצת מורכב, אנחנו נעבור עליו בעדינות"
    - מושגים: עדיף להשתמש במושגים מוכרים / בסיסיים / קלים (חסכוני יותר), ועדיין להזכיר במשפט את הגדרת המושג או מה הוא מבטא.
    - הצגת מושגים לא מוכרים / מורכבים: לציין *במפורש* "X הוא מושג", לתת הסבר, כדאי לתת דוגמא או אנלוגיה למשהו מוכר. בהמשך להזכיר אותו בשם המפורש שנתנו לו. אחרת המחיר הוא בלבול שנגרר עם הקהל הלאה.
    - הבחנה: הצגה תמציתית של מוצג לא מוכר / מורכב: אולי יש מושג שהוא חלק מהתיאוריה / ניתוח התוצאות, ולכן צריך להציג אותו, אבל אתם בוחרים שלא להתעמק בו (ובוחרים שהקהל לא יתעמק בו). צריך להציג אותו, להסביר את הקונטקסט שלו, ולכוון את רמת ההעמקות. למשל: "זאת פונקצית בסל, היא נראית ככה (גרף!) והשורשים שלה הם תדרים עצמיים, מעבר לזה אין מה להתעמק בה".
    - הערה: במקרה זה המושגים הללו זה ביטוי של איך אתם חשבתם על הנושא וניתחתם אותו. במהלך הקריאה וניתוח התוצאות, שווה לוודא שאתם מכירים את המושגים בהם התופעה מתוארת. במיוחד מושגי מפתח, שכל הנושא מבוסס עליהם ומסתובב סביבם. 



שימוש יעיל במצגת
^^^^^^^^^^^^^^^^^^^^^^^
#. כלל ברזל: כאשר מביטים בשקף, צריך להיות נתיב טבעי *אחד* להעביר בו את העין, זה מקל על הקהל (בדומה לציורים טובים, או קומיקס טוב).
    - אנשים תמיד הולכים מלמעלה למטה.
    - אנשים גם אוהבים להמשיך את המבט עם כיוון הטקסט שהם קראו, מה שיוצר בעיה מסוימת מבחינת ימין שמאל: עברית נכתבת בכיוון הפוך מאנגלית ומ"מתמטית". אין לי כלל אצבע טוב לפיתרון בעיה זו, אבל צריך לקחת בחשבון.
    - חיצים הם כלי יעיל להתוויית נתיב לעין. 

#. יתרון עצום לתצוגה חזותית: תמונות, גרפים. עדיף כתיב מתמטי תמציתי על הרבה מלל.
    - כמובן שההסברים בע"פ משלימים את החסר במצגת. אם יש הרבה מלל במצגת קשה לעקוב.
    - שהגרפים יהיו נוחים *מאוד* להבנה. הקדשתם 5 שעות לניתוח תוצאות מסוים שמתמצה בגרף. שווה לכם להקדיש 10 דקות כדי שהגרף יהיה מעולה ובהיר:
        - כותרות גדולות וברורות, לשים מקרא (legend), לסמן יחידות על הצירים
        - ואם היחידות הן מספר טהור לסמן במפורש [AU] שזה אומר arbitrary units. ככה אתם מבהירים שלא שכחתם את היחידות. (אני כעסתי ממש על המדריכים שהם התעקשו על זה, אבל בעצם הם צדקו).
        - לפעמים ניתן לצבוע חלק מהאותיות / סימבולים כדי להקל על הקריאה: אני מחבב את את השיטה: לסמן בנוסחאות את המשתנה הבלתי תלוי בצבע אחד, ואת כל הפרמטרים בצבע אחר. 

#. הגרף צריך לבטא שלושה דברים:
    - את דרך הניתוח שלכם
    - את מה שאתם מדגישים בע"פ כרגע
    - את מה שאתם רוצים לומר בעזרת הגרף / אחרי הגרף.
    - דוגמא: לסמן בצבע קבוצות של נקודות בעלות תכונה משותפת (למשל: "את הנקודות האלה לא הכנסנו למודל כי _____" צריך להיות מלווה בזה שהנקודות הללו צבועות, ובמקרא יש להן שם תמציתי כמו "saturated data" או "outliers". או "data affected by X"). ההפרדה החזותית הזאת עוזרת מאוד להבין למה אתם מתכוונים, וגם נותנת לכם דרך נוחה להצביע על אוסף נקודות: "הנקודות האדומות מייצגות...".

#. החלוקה לשקפים והארגון הפנימי של כל שקף מבטאים את מבנה ההצגה שלכם. השתמשו בארגון זה כדי להפריד *היטב* בין גדלים שנמדדו בפועל לגדלים שחושבו, בין פיתוח תיאורטי לתוצאות וכו'.

#. שקפים צריכים להכיל כמות קטנה של חומר. כמות גדולה מעמיסה על הצופה, ומקשה עליכם לעשות ארגון טוב של השקף.

#. כדאי להציג את המצגת פעם אחת לחברים שלכם ולקבל משוב. עוזר המון. כדאי לתכנן כמה זמן מדברים על כל דבר (אם נגמר הזמן, תצטרכו לחתוך או לצמצם את מה שבסוף - לרוב זה התוצאות, וזה באסה).
#. כדאי לשלוח את המצגת למדריך מראש, והוא ייתן הערות. זה כמובן דורש לא להגיע לערב האחרון.



תכנות מדעי יעיל
--------------------
אנחנו משתמשים במחשב כדי לנתח נתונים של ניסויים. זה נקרא תיכנות מדעי (scientific programming, או scientific computing). ולכן באופן טבעי, העקרונות הללו מבטאים:

* תכנות נכון
* עבודה מדעית נכונה
* "תרגום" נכון של עבודה מדעית למחשב.

הערות
^^^^^^^^^^^^^^
* מאוד משתלם לעבוד נכון, מסודר. המחיר: זה דורש תכנון, זה דורש איפוק (לא לרוץ ישר קדימה). הרווח: זה חוסך באגים, וחוסך את הזמן של למצוא באגים.
* מועיל לבקש כמה טיפים ממתכנת רציני, או אפילו להראות לו את הקוד שלכם. יהיו לו דברים חכמים לומר.
* אני מנתח נתונים בעזרת פייתון. בין העקרונות אני מציין דוגמאות ספציפיות בעיקר בפייתון. חלק מהדברים יותר נוחים ליישום, יותר טבעיים בפייתון, אבל כדאי לכם לחפש אלטרנטיבות במטלב, אם אתם משתמשים בה.

כמה עקרונות של תכנות נכון
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
* העיקרון המנחה: סדר. כל מה שצריך להופיע יופיע, יופיע פעם אחת בדיוק, יופיע בצורה שיהיה ברור מה הוא עושה. מה מרוויחים?: יותר קל להימנע מטעויות.
* הנה כמה פרקטיקות טובות, ודוגמאות מניסוי של "מטוטלות" (הן מסודרות מהבסיסית למתקדמת, אם אתם מכירים את הרעיונות האלה, תתחילו מהסוף):

#. לשמור את הקוד שאיתו עושים את העיבוד. אפשר לעשות קצת ניסויים בחלון המרכזי של מטלב או פייתון, אבל בסוף אתם רוצים קובץ find_main_frequency.m או find_main_frequency.py, כדי שתוכלו להריץ אותו שוב, או לשנות משהו.
#. עיבודים שונים צריכים להיות בקבצים שונים. למשל: בשלב הראשון מחשבים את משרעת התנודה של מטוטלת, ובשלב השני משתמשים בכמה משרעות תנודה כאלה כדי לחשב את השיכוך במערכת.
#. בנוסף, כל עיבוד / חישוב מובחן וקטן, כדאי לארגן בתוך פונקציה משלו. למשל: מנתחים אוסילטור הרמוני מרוסן ומאולץ. כדאי לכתוב פונקציה שמקבלת כמה פרמטרים פיזיים של המערכת, ומחזירה את משרעת התנודה (בעזרת הנוסחא). מה מרוויחים? - ככה לא צריך לחזור על החישוב כמה פעמים,  יותר קל להבין את החלק העיקרי בקוד.
#. אם יש הרבה פונקציות מאותו סוג (למשל, הרבה פונקציות שמחשבות נוסחאות באוסילטור הרמוני), לשים את כל הפונקציות האלה בקובץ אחד ולעשות לו import.
    - הערה: לא חייבים להחליט מראש מה יהיה פונקציה נפרדת. אפשר תוך כדי עבודה פתאום להגיד: "אה, בעצם 6 השורות האלה עושות משהו מוגדר אחד, אני יכול להכניס אותן לתוך פונקציה".
#. דוגמא: להפריד בין *נתונים* לבין *עיבוד* - שני דברים שונים.
    - יש כל מיני פרמטרים שמדדנו ומופיעים ב"מחברת המעבדה": האורך של המוט, המסה של המשקולת וכו'. אולי אנחנו נרצה להשתמש בנתונים הללו בכמה עיבודים שונים? אנחנו הרי לא נרצה לעשות copy paste להתחלה של כל קובץ עיבוד. הפיתרון: לשים את הפרמטרים האלה בקובץ נפרד (אני אוהב לקרוא לו SIZES.py), ולעשות לו import לקובץ הראשי. מה מרוויחים? ככה הקובץ הראשי רזה יותר, ונוח יותר להבנה.
#. אחרי שכותבים פונקציות, לבדוק את הפונקציות האלה על פרמטרים שאנחנו מכירים, וככה להיות בטוחים לגביהן.
#. למתקדמים: תשתמשו בכלי כמו git למעקב אחר גרסאות קוד.


כמה עקרונות של "תרגום" עבודה מדעית למחשב
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
#. יחידות - לגדלים המספריים שלנו יש יחידות. לפייתון יש חבילה (pint) שמאפשרת לעבוד עם גדלים עם יחידות. למשל: אם נרצה לחבר שניות למטרים, המחשב יזהה את הטעות ויצעק. למשל: אם נחבר שניות לאלפיות שניה (מילי-שניות) הוא יבצע המרת יחידות נכונה. זה טוב כי זה מאפשר לנו לזהות טעויות, ולא להתעסק כל הזמן בהמרה.
#. שגיאות - לגדלים המדודים שלנו יש שגיאות מדידה. לפייתון יש חבילה (uncertainties) שמאפשרת לעבוד עם גדלים שיש להם שגיאות מדידה. החבילה עושה פעולות מתמטיות באופן נכון, ותוך שימוש בקירוב ראשון (לינארי). זה טוב כי זה חוסך לנו לטפל בשגיאות בעצמנו.
#. נכון לזמן כתיבת המסמך שתי החבילות האלה עדיין לא עובדות ביחד, אבל משפרים אותן כדי שיעבדו ביחד. כאשר זה יעבוד זה יחסוך המון צרות. בינתיים צריך לבחור מה מעדיפים שהמחשב יחסוך לך, וצריך להקפיד על השני לבד.
#. בתיכנות כדאי להכניס הרבה בדיקות שפיות, זה מהיר, זה קל, וזה רק חוסך צרות. האם הגדלים המדודים בסדר גודל נכון? האם החישוב שעשיתי היה נכון? וכו'. בפייתון יש פקודה שימושית assert(something_I_want_to_be_sure_about). אם מה שרשמתם לא נכון, התוכנה תצעק, וככה תדעו שיש בעיה במקום הכי מוקדם שהיא צצה.



שימוש בחבילות קיימות:
^^^^^^^^^^^^^^^^^^^^^^^^^^
#. אתם עושים עכשיו עבודה של פיזיקאי ומתכנת ואתם אמורים להיות *עצלנים*.
#. הרבה אופרציות מורכבות, כבר מקודדות היטב, בדוקות, מתועדות, ונוח לעבוד איתן. אתם חוסכים הרבה ע"י שימוש בהן: חוסכים לעצמכם עבודה, ומקבלים דבר טוב.
#. דוגמאות: לפלסיאן, גרדיאנט, שחלוף של מטריצה, מציאת מטריצה הפכית, מציאת מקסימומים מקומיים של וקטור, פונקציות סטטיסטיות (ממוצע, חציון, סטיית תקן, חלוקה להיסטוגרמות, דירוג חי-בריבוע....), כל מיני פונקציות מתמטיות מיוחדות (פונקציות בסל לסוגיהן, חלון המינג, התפלגויות למיניהן....), FFT לסוגיו, מציאת קווי גובה של פונקציה......, מניפולציות שונות לווקטורים (סכום, מכפלה, ממוצע, סכום צובר, מכפלה צוברת, נגזרת), אותן מניפולציות למטריצות, עם בחירת ציר פעולה.
#. דגשים:
    - איך למצוא אותן? לפעמים אפשר פשוט לנחש את השם שלהן ובאיזה חבילה הם יהיו. ברוב המקרים תחפשו בגוגל (באנגלית) מטלב / פייתון + מילה שקשורה לפעולה שאתם מחפשים, ותמצאו את מיקום הנחוצה בכל מיני פורומים ברשת.
    - תמיד לפני השימוש, *לשחק* קצת עם הפונקציה. האם היא עושה מה שאתם מצפים? איך היא מגיבה לקלט מסוגים שונים. אם אפשר, תשרטטו את הפלט. זה נותן תחושה. מומלץ לעיין בתיעוד של הפונקציה, בייחוד בחלק של דוגמאות. אפשר גם לקרוא את הקוד.
    - לפעמים יש כמה הגדרות / קונבנציות דומות לאותה פונקציה (למשל FFT, LOG) וצריך לוודא מה הקונבנציה שהם בחרו.
    - מה עושים כאשר לא מוצאים משהו שמחפשים?
        - מקרה 1: אם זה פשוט אז תכתבו אותו בעצמכם בתור פונקציה נפרדת.
        - מקרה 2: זה קצת מסובך ולא מצאתם פונקציה שעושה זאת. תחפשו באינטרנט דברים כמו python, how to X ובהרבה מקרים תמצאו פונקציות שעושות פחות או יותר את מה שאתם רוצים. חשוב! הפונקציות האלה פחות "חלקות" לשימוש מפונקציה מחבילה מסודרת, ולכן תצטרכו לבדוק אותן טוב בעצמכם.
        - מקרה 3: זאת פונקציה לא כ"כ מסובכת, אתם מצפים שהיא תהיה בחבילה שאתם משתמשים בה, אבל אין. הדבר הנכון לעשות הוא לכתוב קובץ בשם package_extension.py, לעשות לו import ובו לכתוב את הפונקציה שאתם רוצים. זה מהיר, נוח, שומר על סדר. דוגמא: אתם משתמשים בחבילה של שגיאות מדידה, ורוצים לשרטט בפקודה *אחת* את הגרף עם השגיאות. זה דבר טבעי וצפוי לעשות, אבל עדיין לא עשו אותו - אז עושים לבד.


כלים שכדאי להכיר
^^^^^^^^^^^^^^^^^^^^^
#. גם מטלב וגם פייתון נותנות תשתית מעולה לניתוח תוצאות. מטלב מאוד מוכרת ויסבירו עליה מספיק. לפייתון יש כמה חבילות מעולות לחישוב מדעי, וסביבת עבודה שנותנות הרגשה מאוד דומה למטלב. פייתון יודעת גם לקרוא קבצי נתונים של מטלב, אז תכל'ס אפשר להנות מהיתרונות של שתיהן. אני עבדתי בפייתון ושותף המעבדה שלי במטלב וזה עבד סבבה. הערה: לא קשה ללמוד פייתון, בייחוד עם מתמקדים בחבילות המדעיות. הכתיבה דומה לכתיבה במטלב, אבל קצת מסודרת יותר.

#. מטלב. במטלב הממשק הגרפי של עיצוב גרפים טוב יותר מאשר בפייתון.

#. פייתון - שפת תכנות כללית עם כמה חבילות מעולות לניתוח מדעי:
    - numpy (matrices), scipy (scientific functions), matplotlib (plotting graphs), uncerteinties (easy handling of errors), pint (easy handling of units)
    - אפשר להשתמש בסביבת עבודה spyder. מאוד מאוד נוחה (ודומה לסביבת העבודה של מטלב). התאמת העקומות של פייתון יותר טובה מאשר מטלב לדעתי (scipy.optimize.curv_fit). לפעמים תירצו להשתמש בפונקציות מטלב של מישהו אחר (מדריכי מעבדה, משהו שמצאתם באינטרנט) - מאוד מאוד קל לתרגם אותן לפייתון. כדאי להכיר את הפונקציה שקוראת קבצי CSV לתוך טבלה של פייתון: matplotlib.mlab.csv2rec
    - כדאי להכיר את np.apply_on_axis מאפשר להפעיל פונקציה מסוימת לאורך ציר.
    - כלים שמאפשרים להפעיל את matlab מתוך python:
        - https://pypi.python.org/pypi/pymatlab
        - http://wiki.scipy.org/MlabWrap

#. תוכנה למדידה של דברים בתמונות: tracker: אורכים, זוויות, וגם ניתוח וידאו (למשל: אתם נקודה אדומה של עט לייזר זזה על מסך, ונותנים לתוכנה לגלות את המיקום של הנקודה בכל frame בווידאו)

#. התוכנה mathematica, שהיא מה שעומד מאחורי wolfram alpha. אין לי ניסיון איתה.



#. מדידת זמנים: הנה סטופר:
    - http://www.online-stopwatch.com/
    - ויש לו גם גרסא עם laps, (בזמן שהוא רץ אפשר ללחוץ והוא רושם את הזמנים): http://www.online-stopwatch.com/split-timer/.
    - שומרים את התוצאות שלו בתור קובץ טקסט.
    - כתבתי פונקציה בפייתון שמתרגמת את קבצי הטקסט האלה למשהו שנוח לעבוד איתו. לשים קישור _________


#. אם אתם עושים ניסויים עם עיבודי FFT, נוח להשתמש בספקטוגרמה. יש ספקטוגרמות בסיסיות במטלב ופייתון. כלי יותר רציני: baudline (רץ על linux, או שתשתמשו ב- windows עם מכונה וירטואלית):
    - http://www.baudline.com/

#. מיכשור המעבדה - כדאי לשבת קצת על הדברים כמו אוסילוסקופ וכו' בפעם הראשונה שעובדים איתם, וגם לשאול את המדריכים. בד"כ יש למכשירים האלה פונקציות שמקלות לכם על החיים אבל קשה לנחש בהתחלה שהן קיימות.

#. תשתית החישוב במאיץ החלקיקים ב- CERN. קוראים לזה ROOT. *עדיין לא יצא לי להשתמש*. מישהו העיר ש- when the shit hits the fan, זה עוזר להתעמת עקומות וכו'. בדקתי, ויש לזה אפשרות להתחבר לפייתון PyROOT. אולי גם למטלב, אני לא יודע.

#. יש תוכנה בשם octave שמתפקדת דומה למטלב, ועובדת עם אותם קבצים (קבצי הרצה של מטלב, וקבצי נתונים של מטלב)
    - http://www.gnu.org/software/octave/
    - https://pypi.python.org/pypi/oct2py



הערה נוספת על איך המסמך נכתב
-------------------------------
בללמוד מהניסיון יש שלושה שלבים עיקריים:
א) להחליט שזה חשוב ללמוד מהניסיון.
ב) לזהות, לנתח ביצועים טובים ורעים, ולארגן אותם בעקרונות - המסקנות שלכם.
ג) לפעול לפי המסקנות בהמשך.
הטיפים האלה מבוססים על *הרבה* כאב של ניתוח טעויות בדיעבד. קשה להימנע מזה, אבל כדאי לנסות ללמוד ולתקן למעבדה הבאה.
הדרך היעילה (לדעתי) להיעזר במסמך: תקראו אותו, אח"כ במהלך הזמן אתם תתקלו בבעיות בכל מיני הזדמנויות ואז תיזכרו שקראתם על זה משהו ותוכלו לחזור למסמך. כלומר, הקריאה הראשונית של המסמך תעזור בהמשך בזיהוי של בעיות, והקריאה במסמך אחרי זיהוי בעיה קונקרטית תעזור למצות עיקרון טוב.


עוד חומר שלא שילבתי עדיין בגוף המסמך
--------------------------------------
    אם אפשר לכתוב בדיקה גרפית לפונ' - לעשות את זה.
    לכתוב משהו שמאפשר להרים או לא להרים את העניינים הגרפיים.
    ** המעבר מתהליך בנייה הדרגתי וחיפוש, לפונ' יפות. ניתוק של הבדיקות.
    כמה שיותר להפריד מודולים שונים.

    לשים לב - שורש של מספר שלילי. צורות אחרות של פרמטרים לא מתאימים לפונקציה. או נתונים שנראים לא מתאימים למציאות.

בתקווה מצורפים כמה קבצים:
--------------------------
דוגמאות של מצגות: המצגת הראשונה שלנו עם הבלטה של הרבה טעויות, מצגת מאוחרת עם הבלטה של טעויות ושל הצלחות.

וגם לינקים לאתר github של הקבצים הבאים
--------------------------------------
דוגמאות לקבצי ניתוח נתונים: (של מעבדה מאוחרת, שבה עבדנו טוב).
פונקציות עזר מועילות שכתבתי במהלך השימוש (תוספות לחבילת שגיאות מדידה, פונקציית עזר לאתר עם הסטופר).
לינקים להסברים על numpy, matplotlib
הסבר נוח להתקנה של פייתון והחבילות המדעיות שלו
בתקווה - קישור לחבילת עיבוד אותות שאני עובד עליה.



הערות של מהלך העריכה
---------------------
לשים לב שאין יותר מדי שימוש בסוגריים.












